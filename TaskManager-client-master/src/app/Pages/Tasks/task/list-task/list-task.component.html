<div class="tasks-table">
  <div class="filter-bar">
    <div class="search-bar">
      <input
        type="text"
        placeholder="Find Tasks"
        id="searchBar"
        (input)="searchTask($event)"
      />
      <i class="fa-solid fa-magnifying-glass search-icon"></i>
    </div>
    <div class="right-filter-container">
    <div class="name-filter">
      <div class="filter-title">Filter By :</div>

      <select name="receiver" id="receiver" (change)="onFilterAssigned($event)">
        <option value="" disabled selected>Assigned To</option>
        <option value="Show All">Show All</option>
        @for(assignTo of assignToList;track $index){
        <option [value]="assignTo">{{ assignTo }}</option>
        }
      </select>
    </div>

    <select name="status" id="status" (change)="onFilterStatus($event)">
      <option value="" disabled selected>Status</option>
      <option value="Default">Default</option>
      <option value="Active">Active</option>
      <option value="Pending">Pending</option>
      <option value="Under Review">Under Review</option>
      <option value="Completed">Completed</option>
    </select>
  </div>
</div>

  <table>
    <thead>
      <tr>
        <th>Task Title</th>
        <th>Status</th>
        <th>Assigned To</th>
      </tr>
    </thead>
    <tbody>
      @for(task of tasks; track task.id) {
      <tr class="task-item" (click)="showTaskDetails(task)">
        <td>{{ task.t_title }}</td>
        <td class="status-item">
          @if (task.t_status == "Completed") {
          <div class="greenBullet"></div>
          } @else {
          <div class="redBullet"></div>
          }
          <span>{{ task.t_status }}</span>
        </td>
        <td>{{ task.firstname }} {{ task.lastname }}</td>
      </tr>
      }
    </tbody>
  </table>
  @if (tasks.length==0) {
  <div class="empty-field">No Tasks Available</div>
  }
</div>
